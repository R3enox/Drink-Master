import{u as g,c as k,r as u,a as v,v as I,j as e,s as h,C as A,E as F,F as C,b as D,G as S,H as T,I as q}from"./index-b04e2d2d.js";import{c as w,S as j,b as R}from"./createCollectionOptions-3aa00a5e.js";import{P as E}from"./PageTitle-69f706d1.js";import"./emotion-memoize.esm-f5713a00.js";import"./floating-ui.dom-93188c57.js";const $=r=>{const[t,o,c]=r.split("/").map(Number),s=new Date,x=s.getFullYear(),p=s.getMonth()+1,b=s.getDate();let m=x-c;return(p<o||p===o&&b<t)&&(m-=1),m},z=()=>{const{t:r,i18n:t}=g(),{categories:o,glasses:c}=k(),[s,x]=u.useState(),[p,b]=u.useState(0),m=u.useMemo(()=>w(o??[]),[o]),i=u.useMemo(()=>w(c??[]),[c]),l=v(I);u.useEffect(()=>{if(l){const n=$(l.dateOfBirth);b(n)}},[l]);const a=n=>{const d=n.target.files[0],y=URL.createObjectURL(d);x(y)};return e.jsxs("div",{className:"md:flex md:gap-[32px] md:mb-20",children:[e.jsxs("div",{className:"mb-10 md:mb-0",children:[e.jsx("input",{id:"fileInput",type:"file",name:"drinkThumb",required:!0,className:"inputFile sr-only mt-[280px] ml-[170px]",onChange:a}),e.jsx("label",{htmlFor:"fileInput",className:"cursor-pointer",children:e.jsx("div",{className:`containerPhoto flex justify-center items-center w-[335px] h-[320px]  rounded-lg
           bg-primary-text-button-color bg-opacity-50
           md:w-[320px]  lg:w-[400px] lg:h-[400px]`,children:s===void 0?e.jsxs("div",{className:"flex flex-col pointer-events-none items-center w-20 h-[88px] ",children:[e.jsx("button",{tabIndex:"-1",type:"button",className:"addPhotoButton flex justify-center items-center  mb-[18px] w-[50px] h-[50px] bg-primary-text-color rounded-[6px] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:e.jsx("svg",{className:"svgPhotoAddDrink stroke-primary-text-button-color w-[28px] h-[28px] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:e.jsx("use",{href:h+"#icon-plus"})})}),e.jsx("p",{className:"font-medium text-center leading-[125%]",children:r("serviceText.DrinkPageHero")})]}):e.jsx("img",{src:s,className:"block  w-[335px] h-[320px] rounded-[8px] "})})})]}),e.jsxs("div",{className:"flex flex-col gap-[31px] mb-10 lg:gap-[40px]",children:[e.jsx("input",{type:"text",name:"drink",placeholder:"Enter item title",required:!0,className:"block pb-[14px] outline-none hover:placeholder-primary-text-color   bg-transparent w-[335px] h-[34px] border-b border-grey-text-color  focus:outline-none  focus:border-primary-text-color hover:border-primary-text-color placeholder-grey-text-color placeholder-font-normal placeholder-text-sm transition-colors ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] md:w-[352px] md:h-[41px] md:placeholder-text-base md:pb-[18px] lg:w-[393px]"}),e.jsx("input",{type:"text",name:"description",placeholder:"Enter about recipe",className:"block pb-[14px] outline-none hover:placeholder-primary-text-color   bg-transparent w-[335px] h-[34px] border-b border-grey-text-color  focus:outline-none  focus:border-primary-text-color hover:border-primary-text-color placeholder-grey-text-color placeholder-font-normal placeholder-text-sm transition-colors ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] md:w-[352px] md:h-[41px] md:placeholder-text-base md:pb-[18px] lg:w-[393px]",required:!0}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"selectCategory",className:"absolute top-0 left-0 hover:text-primary-text-color text-grey-text-color font-normal text-base tracking-[-0.02em] leading-[1.2]  ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:r("inputPlaceholder.DrinkPageHero.recipeDescr")}),e.jsx(j,{id:"selectCategory",classNamePrefix:"custom_select",options:m,name:"category",defaultValue:m[0],isRequired:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"selectGlass",className:"absolute top-0 left-0 text-grey-text-color font-normal text-base tracking-[-0.02em] leading-[1.2]",children:r("label.DrinkPageHero.Glass")}),e.jsx(j,{id:"selectGlass",classNamePrefix:"custom_select",options:i,name:"glass",defaultValue:i[0],isRequired:!0})]}),e.jsx("div",{className:"mb-20 flex gap-x-3.5  md:mb-0",children:p>=18?e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"relative flex items-center gap-x-1 cursor-pointer ",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Alcoholic",required:!0,className:"peer sr-only",defaultChecked:!0}),e.jsx("div",{className:" w-4 h-4 p-0.5 border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-primary-text-color "}),e.jsx("div",{className:" absolute  left-[3.6%] top-[28%;] w-2.5 h-2.5 bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("span",{className:"text-grey-text-color text-sm peer-checked:text-primary-text-color md:text-base",children:r("cocktailType.alco")})]}),e.jsxs("label",{className:"relative text-grey-text-color  flex items-center gap-x-1 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Non-alcoholic",required:!0,className:"peer sr-only"}),e.jsx("div",{className:" w-4 h-4 p-0.5 border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-primary-text-color "}),e.jsx("div",{className:" absolute  left-[2.8%]  top-[28%;] w-2.5 h-2.5 bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("span",{className:"text-grey-text-color  peer-checked:text-primary-text-color text-sm md:text-base ",children:r("cocktailType.non")})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:`relative flex items-center gap-x-1  ${p>=18?"cursor-pointer":""} `,children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Alcoholic",required:!0,className:"peer sr-only",disabled:!0}),e.jsx("div",{className:` w-4 h-4 p-0.5 border-grey-text-color 
                ${p>=18?"cursor-pointer":""}  rounded-[50%] border-[1.30px] peer-checked:border-primary-text-color `}),e.jsx("div",{className:" absolute  left-[3.5%] w-2.5 h-2.5 bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("span",{className:"text-grey-text-color  peer-checked:text-primary-text-color",children:r("cocktailType.alco")})]}),e.jsxs("label",{className:"relative text-grey-text-color  flex items-center gap-x-1 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Non-alcoholic",required:!0,className:"peer sr-only",defaultChecked:!0}),e.jsx("div",{className:" w-4 h-4 p-0.5 border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-primary-text-color ",children:e.jsx("div",{className:" absolute  left-[50%] top-[50%] w-2.5 h-2.5 bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"})}),e.jsx("span",{className:"text-grey-text-color  peer-checked:text-primary-text-color",children:r("cocktailType.non")})]})]})})]})]})},P=({text:r})=>e.jsx("h2",{className:"font-semibold text-2xl leading-[114%] mb-10 md:text-[40px] md:leading-[110%]",children:r}),U="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let N=(r=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(r));for(;r--;)t+=U[o[r]&63];return t};const M=({ingredientsOptions:r})=>{const{t,i18n:o}=g(),[c,s]=u.useState(3),[x,p]=u.useState([]);u.useEffect(()=>{if(x.length===0){b(c);return}},[]);const b=a=>{const n=[];for(let d=0;d<a;d++){const y=N();n.push(e.jsxs("li",{className:"flex items-center mb-3.5 gap-x-2",children:[e.jsx(j,{className:"flex-initial",name:"ingredientId",options:r,classNamePrefix:"ingredientsSelect",placeholder:r[d].label,isRequired:!0}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"1  cl",name:"measure",required:!0,className:"text-primary-text-color placeholder-primary-text-color bg-transparent w-[100px] md:w-[150px]  h-[50px] md:h-[56px] border-grey-text-color border-[1px] rounded-[200px] pl-[18px] md:pl-[24px] hover:border-primary-text-color focus:border-primary-text-color outline-none ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]  "})}),e.jsx("button",{className:"md:ml-auto ",type:"button",id:y,onClick:()=>l(y),children:e.jsx("svg",{className:" stroke-primary-text-color w-[18px] md:w-[20px] h-[18px] md:h-[20px]  hover:stroke-[#848080] focus:stroke-[#848080] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] ",children:e.jsx("use",{href:`${h}#icon-cross`})})})]},y))}p(n)},m=()=>{if(r.length<=c)return;const a=c+1;s(a);let n=Math.floor(Math.random()*r.length);const d=N();x.push(e.jsxs("li",{className:"flex items-center mb-3.5 gap-x-2",children:[e.jsx(j,{className:"flex-initial",name:"ingredientId",options:r,classNamePrefix:"ingredientsSelect",placeholder:r[n].label,isRequired:!0}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"1  cl",name:"measure",required:!0,className:"text-primary-text-color placeholder-primary-text-color bg-transparent w-[100px] md:w-[150px]  h-[50px] md:h-[56px] border-grey-text-color border-[1px] rounded-[200px] pl-[18px] md:pl-[24px] hover:border-primary-text-color focus:border-primary-text-color outline-none ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]  "})}),e.jsx("button",{className:"md:ml-auto ",type:"button",id:d,onClick:()=>l(d),children:e.jsx("svg",{className:" stroke-primary-text-color w-[18px] md:w-[20px] h-[18px] md:h-[20px]  hover:stroke-[#848080] focus:stroke-[#848080] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] ",children:e.jsx("use",{href:`${h}#icon-cross`})})})]},d))},i=()=>{if(c<=3)return;const a=c-1;s(a),x.pop()},l=a=>{p(n=>n.filter(d=>d.key!==a)),s(n=>n-1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between lg:w-[540px]",children:[e.jsx(P,{text:t("title2.AddDrink"),className:"inline-block"}),e.jsxs("div",{id:"counter",className:"w-[104px] h-[38px] md:w-[114px] md:h-[44px]  flex justify-around items-center border-solid border-grey-text-color border-[1px] rounded-3xl",children:[e.jsx("button",{type:"button","data-action":"decrement",onClick:i,children:e.jsx("svg",{width:"16",height:"16",className:"stroke-primary-text-color ",children:e.jsx("use",{href:`${h}#icon-minus`})})}),e.jsx("span",{id:"value",className:"flex text-center",children:c}),e.jsx("button",{type:"button","data-action":"increment",onClick:m,children:e.jsx("svg",{width:"16",height:"16",className:"stroke-primary-text-color",children:e.jsx("use",{href:`${h}#icon-plus`})})})]})]}),e.jsx("ul",{className:"mb-20 lg:w-[540px]",children:x})]})},_=()=>{const{t:r,i18n:t}=g();return e.jsxs(e.Fragment,{children:[e.jsx(P,{text:r("title.AddDrinkRecepy")}),e.jsx("textarea",{className:`bg-transparent border-[1px] resize-none border-grey-text-color focus:outline-none
         focus:border-primary-text-color hover:border-primary-text-color w-[335px] h-[184px] rounded-[14px] 
         placeholder-grey-text-color placeholder-font-normal placeholder-text-sm 
         mb-5 pl-[18px] md:pl-[24px] pt-4 md:pt-[14px] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]  
         md:w-[480px] md:rounded-[20px] 
        `,name:"instructions",id:"",cols:"30",rows:"10",placeholder:r("inputPlaceholder.DrinkPageHero.recipe"),required:!0})]})},f=A("drinks/own/add",async(r,{rejectWithValue:t})=>{try{const{data:o}=await F.post("/drinks/own/add",r);return o}catch(o){return t(o.data)}}),H=C({name:"addDrink",initialState:{newDrink:[],error:null},reducers:{},extraReducers:r=>r.addCase(f.pending,t=>{t.error=null}).addCase(f.fulfilled,(t,{payload:o})=>{t.newDrink=o,t.error=null}).addCase(f.rejected,(t,{payload:o})=>{t.error=o})});H.reducer;const O=()=>{const{t:r,i18n:t}=g(),o=D(),c=S(),{ingredients:s}=k(),x=[],p=u.useMemo(()=>R(s??[]),[s]),b=async m=>{m.preventDefault(),x.length=0;const i=new FormData(m.currentTarget);i.getAll("ingredientId").forEach((l,a)=>{const n=i.getAll("measure")[a];x.push({title:p.find(d=>d.value===l).label,measure:n,ingredientId:l})}),i.delete("ingredientId"),i.delete("measure"),x.forEach((l,a)=>{i.append(`ingredients[${a}][title]`,l.title),i.append(`ingredients[${a}][measure]`,l.measure),i.append(`ingredients[${a}][ingredientId]`,l.ingredientId)});try{await o(f(i)),c("/my")}catch(l){console.log(l)}};return e.jsx("section",{className:"margin pb-20 lg:pb-[140px]",children:e.jsxs("form",{onSubmit:b,children:[e.jsx(z,{}),e.jsx(M,{ingredientsOptions:p}),e.jsx(_,{}),e.jsx(T,{children:r("button.AddDrink.Add")})]})})},G=()=>e.jsxs("ul",{className:"flex gap-x-[14px] md:gap-x-[16px]",children:[e.jsx("li",{className:"p-[7px] border-[1px] rounded-[10px]  border-border-color hover:border-grey-text-color",children:e.jsx("a",{href:"https://www.facebook.com/goITclub/",target:"_blank",rel:"noreferrer noopener",children:e.jsx("svg",{className:"fill-primary-text-color opacity-80 sm:w-[22px] h-[22px] md:w-[28px] md:h-[28px] hover:opacity-100",children:e.jsx("use",{href:h+"#icon-facebook"})})})}),e.jsx("li",{className:"p-[7px] border-[1px] rounded-[10px] border-border-color hover:border-grey-text-color",children:e.jsx("a",{href:"https://www.instagram.com/goitclub/",target:"_blank",rel:"noreferrer noopener",children:e.jsx("svg",{className:"fill-primary-text-color opacity-80 sm:w-[22px] h-[22px] md:w-[28px] md:h-[28px] hover:opacity-100",children:e.jsx("use",{href:h+"#icon-instagram"})})})}),e.jsx("li",{className:"p-[7px] border-[1px] rounded-[10px] border-border-color hover:border-grey-text-color",children:e.jsx("a",{href:"https://www.youtube.com/c/GoIT",target:"_blank",rel:"noreferrer noopener",children:e.jsx("svg",{className:"fill-primary-text-color opacity-80 sm:w-[22px] h-[22px] md:w-[28px] md:h-[28px] hover:opacity-100",children:e.jsx("use",{href:h+"#icon-youtube"})})})})]}),B=()=>{const{t:r,i18n:t}=g();return e.jsxs("section",{className:"pb-10 md:pb-20",children:[e.jsx("h2",{className:"font-medium text-lg text-primary-text-color mb-5  md:text-2xl md:mb-6 ",children:r("title2.FolowUs")}),e.jsx(G,{})]})},V=r=>r.popular.popularDrinks,L=()=>{const r=D(),t=v(V),{t:o,i18n:c}=g();return u.useEffect(()=>{r(q({limit:4}))},[r]),e.jsxs("section",{children:[e.jsx("h2",{className:"font-medium text-lg text-primary-text-color mb-5  md:text-2xl md:mb-6 ",children:o("title2.PopularDrinks")}),e.jsx("ul",{className:"flex flex-col w-[336px] gap-[24px] md:w-[704px] md:flex-row md:flex-wrap md:gap-[32px] lg:flex-col lg:gap-[28px] lg:w-[313px]",children:t.map(s=>e.jsx("li",{children:e.jsxs("a",{href:`/frontend-drink-master/drink/${s._id}`,className:"flex gap-[14px] w-[336px] h-[90px] lg:w-[336px] ",children:[e.jsx("img",{src:s.drinkThumb,alt:s.drink,className:"w-[90px] h-[90px] rounded-[8px] object-cover scale-100 ease-in-out duration-300  hover:scale-[1.035] hover:contrast-[0.9"}),e.jsxs("div",{children:[e.jsx("h3",{children:s.drink}),e.jsx("p",{className:"overflow-hidden h-[63px] text-grey-text-color text-sm	leading-[143%]",children:s.description})]})]})},s._id))})]})},X=()=>{const{t:r,i18n:t}=g();return e.jsxs("main",{className:"container",children:[e.jsx(E,{title:r("title.AddDrink")}),e.jsxs("div",{className:"lg:flex lg:gap-[94px]",children:[e.jsx(O,{}),e.jsxs("div",{children:[e.jsx(B,{}),e.jsx(L,{})]})]})]})};export{X as default};
