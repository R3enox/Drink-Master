import{r as a,j as e,s as h,m as b,n as f,b as g}from"./index-1a609c2a.js";import{D as k}from"./DrinksList-6852b491.js";import{P as j}from"./PageTitle-0f5fbd63.js";import{D as v}from"./DrinkImageComponent-1d780a98.js";const w=({children:t,isOpen:n,closeFnc:r,content:x})=>{const s=a.useCallback(()=>{n&&r()},[n,r]);a.useEffect(()=>{const o=i=>{i.code==="Escape"&&s()};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[s]);const l=o=>{o.target===o.currentTarget&&s()};return e.jsx("div",{className:"fixed bg-opacity-0 overflow-x-hidden overflow-y-auto left-0 top-0  w-full h-full pt-20 z-[100]",onClick:l,children:e.jsxs("div",{className:"absolute bg-primary-text-button-color top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] rounded-[24px] items-center flex flex-col py-[50px] px-[25px] md:p-[50px] ",children:[e.jsx("button",{className:"absolute items-center flex justify-center top-[18px] right-[18px] rounded-[58px] hover:bg-primary-text-color transition-colors",onClick:s,children:e.jsx("svg",{className:"stroke-primary-text-color w-[24px] h-[24px] md:w-[32px] md:h-[32px] hover:stroke-primary-text-button-color transition-colors",children:e.jsx("use",{href:h+"#icon-cross"})})}),e.jsx("p",{className:"text-[14px] leading-[1.29] md:text-[18px] md:leading-[1.33] mb-[25px] md:mb-[37px] text-center",children:x}),t]})})},D=({handleDeleteClick:t,closeMyDrinkModal:n,drinkId:r})=>e.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[e.jsx("button",{className:"transition-colors bg-primary-text-color    hover:bg-filter-scroll-text  hover:text-primary-text-color py-[16px] px-[41px] md:py-[18px] md:px-[69px] rounded-[42px] text-[16px] font-[600] leading-[1.26] text-primary-text-button-color border-none",type:"button",onClick:()=>n(),children:"Cancel"}),e.jsx("button",{className:"transition-colors bg-filter-scroll-text   hover:bg-primary-text-color  hover:text-hover-text-color  py-[16px] px-[41px] md:py-[18px] md:px-[69px] rounded-[42px] text-[16px] font-[600] leading-[1.26] border-none",type:"button",onClick:()=>t(r),children:"Delete"})]}),I=()=>{const{data:t,error:n,isFetching:r,isError:x}=b();console.log(t);const[s]=f(),[l,o]=a.useState(!1),[i,d]=a.useState(null),p=()=>{o(!0)},c=()=>{o(!1)},m=async u=>{try{await s(u),c()}catch(y){console.error("Помилка видалення: ",y)}};return e.jsx("div",{className:`bg-common-set
    md:bg-common-set-tablet lg:bg-common-set-desktop bg-contain bg-no-repeat`,children:e.jsx("section",{className:"pb-[80px] md:pb-[140px] ",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx(j,{title:"My drinks"}),r&&e.jsx(g,{isStatic:!0}),t&&t.length>0?e.jsx(k,{data:t,openMyDrinkModal:p,onChooseItem:d}):e.jsx(v,{description:"You don't have your own drinks yet"}),l&&e.jsx(w,{isOpen:l,closeFnc:c,content:"Are you sure you want to delete your drink?",children:e.jsx(D,{closeMyDrinkModal:c,handleDeleteClick:()=>m(i),drinkId:t})})]})})})};export{I as default};
