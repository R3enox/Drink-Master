import{p as f,r as x,u as N,z as k,j as e,s as m,e as w,F as A}from"./index-54131df0.js";import{c as j,S as b,a as F}from"./createCollectionOptions-48ed8fc3.js";import{P as I}from"./PageTitle-8cf503c3.js";import"./floating-ui.dom-59211bf0.js";import"./emotion-memoize.esm-f5713a00.js";const P="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let y=(s=21)=>{let o="",a=crypto.getRandomValues(new Uint8Array(s));for(;s--;)o+=P[a[s]&63];return o};const D=s=>{const[o,a,c]=s.split("/").map(Number),t=new Date,r=t.getFullYear(),l=t.getMonth()+1,p=t.getDate();let u=r-c;return(l<a||l===a&&p<o)&&(u-=1),u},q=()=>{const{categories:s,glasses:o}=f(),[a,c]=x.useState(),[t,r]=x.useState(0),l=x.useMemo(()=>j(s??[]),[s]),p=x.useMemo(()=>j(o??[]),[o]),u=N(k);x.useEffect(()=>{if(u){const n=D(u.dateOfBirth);r(n)}},[u]);const h=n=>{const d=n.target.files[0],i=URL.createObjectURL(d);c(i)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("input",{id:"fileInput",type:"file",name:"drinkThumb",required:!0,className:"inputFile sr-only mt-[280px] ml-[170px]",onChange:h}),e.jsx("label",{htmlFor:"fileInput",className:"cursor-pointer",children:e.jsx("div",{className:"containerPhoto flex justify-center items-center w-[335px] h-[320px]  rounded-lg bg-primary-text-button-color bg-opacity-50 ",children:a===void 0?e.jsxs("div",{className:"flex flex-col pointer-events-none items-center w-20 h-[88px] ",children:[e.jsx("button",{tabIndex:"-1",type:"button",className:"addPhotoButton flex justify-center items-center  mb-[18px] w-[50px] h-[50px] bg-primary-text-color rounded-[6px] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:e.jsx("svg",{className:"svgPhotoAddDrink stroke-primary-text-button-color w-[28px] h-[28px] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:e.jsx("use",{href:m+"#icon-plus"})})}),e.jsx("p",{className:"font-medium text-base leading-[125%]",children:"Add image"})]}):e.jsx("img",{src:a,className:"block  w-[335px] h-[320px] rounded-[8px] "})})})]}),e.jsxs("div",{className:"flex flex-col gap-[31px] mb-10",children:[e.jsx("input",{type:"text",name:"drink",placeholder:"Enter item title",required:!0,className:"block pb-[14px] outline-none hover:placeholder-primary-text-color bg-transparent w-[335px]  h-[34px] border-b border-grey-text-color focus:outline-none focus:border-primary-text-color hover:border-primary-text-color placeholder-grey-text-color placeholder-font-normal placeholder-text-sm transition-all ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]"}),e.jsx("input",{type:"text",name:"description",placeholder:"Enter about recipe",className:"block pb-[14px] outline-none hover:placeholder-primary-text-color   bg-transparent w-[335px] h-[34px] border-b border-grey-text-color  focus:outline-none  focus:border-primary-text-color hover:border-primary-text-color placeholder-grey-text-color placeholder-font-normal placeholder-text-sm transition-colors ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",required:!0}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"selectCategory",className:"absolute top-0 left-0 hover:text-primary-text-color text-grey-text-color font-normal text-base tracking-[-0.02em] leading-[1.2]  ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:"Category"}),e.jsx(b,{id:"selectCategory",classNamePrefix:"custom_select",options:l,name:"category",defaultValue:l[0],isRequired:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"selectGlass",className:"absolute top-0 left-0 text-grey-text-color font-normal text-base tracking-[-0.02em] leading-[1.2]",children:"Glass"}),e.jsx(b,{id:"selectGlass",classNamePrefix:"custom_select",options:p,name:"glass",defaultValue:p[0],isRequired:!0})]})]}),e.jsx("div",{className:"mb-20 flex gap-x-3.5",children:t>=18?e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"relative flex items-center gap-x-1 cursor-pointer ",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Alcoholic",required:!0,className:"peer sr-only",defaultChecked:!0}),e.jsx("div",{className:" w-4 h-4 p-0.5 border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-primary-text-color "}),e.jsx("div",{className:" absolute  left-[3.6%] top-[28%;] w-2.5 h-2.5 bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("span",{className:"text-grey-text-color  peer-checked:text-primary-text-color",children:"Alcoholic"})]}),e.jsxs("label",{className:"relative text-grey-text-color  flex items-center gap-x-1 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Non-alcoholic",required:!0,className:"peer sr-only"}),e.jsx("div",{className:" w-4 h-4 p-0.5 border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-primary-text-color "}),e.jsx("div",{className:" absolute  left-[2.8%]  top-[28%;] w-2.5 h-2.5 bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("span",{className:"text-grey-text-color  peer-checked:text-primary-text-color",children:"Non-alcoholic"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:`relative flex items-center gap-x-1  ${t>=18?"cursor-pointer":""} `,children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Alcoholic",required:!0,className:"peer sr-only",disabled:!0}),e.jsx("div",{className:` w-4 h-4 p-0.5 border-grey-text-color 
                ${t>=18?"cursor-pointer":""}  rounded-[50%] border-[1.30px] peer-checked:border-primary-text-color `}),e.jsx("div",{className:" absolute  left-[3.5%] w-2.5 h-2.5 bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("span",{className:"text-grey-text-color  peer-checked:text-primary-text-color",children:"Alcoholic"})]}),e.jsxs("label",{className:"relative text-grey-text-color  flex items-center gap-x-1 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Non-alcoholic",required:!0,className:"peer sr-only",defaultChecked:!0}),e.jsx("div",{className:" w-4 h-4 p-0.5 border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-primary-text-color "}),e.jsx("div",{className:" absolute  left-[2.8%] w-2.5 h-2.5 bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("span",{className:"text-grey-text-color  peer-checked:text-primary-text-color",children:"Non-alcoholic"})]})]})})]})},v=({text:s})=>e.jsx("h2",{className:"font-semibold text-2xl leading-[114%] mb-10 md:text-[40px] md:leading-[110%]",children:s}),C=()=>{const{ingredients:s}=f(),[o,a]=x.useState(3),[c,t]=x.useState([]),r=x.useMemo(()=>F(s??[]),[s]);x.useEffect(()=>{if(c.length===0){l(o);return}},[]);const l=n=>{const d=[];for(let i=0;i<n;i++){const g=y();d.push(e.jsxs("li",{className:"flex items-center mb-3.5 gap-x-2",children:[e.jsx(b,{className:"flex-initial w-52",name:"title",options:r,classNamePrefix:"ingredientsSelect",placeholder:r[i].label,isRequired:!0}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"1  cl",name:"measure",required:!0,className:"text-primary-text-color placeholder-primary-text-color bg-transparent w-[100px] h-[50px] border-grey-text-color border-[1px] rounded-[200px] pl-[18px] hover:border-primary-text-color focus:border-primary-text-color outline-none ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]  "})}),e.jsx("button",{type:"button",id:g,onClick:()=>h(g),children:e.jsx("svg",{className:" stroke-primary-text-color w-[18px] h-[18px] hover:stroke-[#848080] focus:stroke-[#848080] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] ",children:e.jsx("use",{href:`${m}#icon-cross`})})})]},g))}t(d)},p=()=>{if(r.length<=o)return;const n=o+1;a(n);let d=Math.floor(Math.random()*r.length);const i=y();c.push(e.jsxs("li",{className:"flex items-center mb-3.5 gap-x-2",children:[e.jsx(b,{className:"flex-initial w-52",name:"title",options:r,classNamePrefix:"ingredientsSelect",placeholder:r[d].label,isRequired:!0}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"1  cl",name:"measure",required:!0,className:"text-primary-text-color placeholder-primary-text-color bg-transparent w-[100px] h-[50px] border-grey-text-color border-[1px] rounded-[200px] pl-[18px] hover:border-primary-text-color focus:border-primary-text-color outline-none ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]  "})}),e.jsx("button",{type:"button",id:i,onClick:()=>h(i),children:e.jsx("svg",{className:" stroke-primary-text-color w-[18px] h-[18px] hover:stroke-[#848080] focus:stroke-[#848080] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] ",children:e.jsx("use",{href:`${m}#icon-cross`})})})]},i))},u=()=>{if(o<=3)return;const n=o-1;a(n),c.pop()},h=n=>{t(d=>d.filter(i=>i.key!==n)),a(d=>d-1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(v,{text:"Ingredients",className:"inline-block"}),e.jsxs("div",{id:"counter",className:"w-[104px] h-[38px]   flex justify-around items-center border-solid border-grey-text-color border-[1px] rounded-3xl",children:[e.jsx("button",{type:"button","data-action":"decrement",onClick:u,children:e.jsx("svg",{width:"16",height:"16",className:"stroke-primary-text-color ",children:e.jsx("use",{href:`${m}#icon-minus`})})}),e.jsx("span",{id:"value",className:"flex text-center",children:o}),e.jsx("button",{type:"button","data-action":"increment",onClick:p,children:e.jsx("svg",{width:"16",height:"16",className:"stroke-primary-text-color",children:e.jsx("use",{href:`${m}#icon-plus`})})})]})]}),e.jsx("ul",{className:"mb-20",children:c})]})},S=()=>e.jsxs(e.Fragment,{children:[e.jsx(v,{text:"Recipe Preparation"}),e.jsx("textarea",{className:"bg-transparent border-[1px] resize-none border-grey-text-color focus:outline-none focus:border-primary-text-color hover:border-primary-text-color w-[335px] h-[184px] rounded-[14px] mb-5 pl-[18px] pt-4  ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",name:"instructions",id:"",cols:"30",rows:"10",placeholder:"Enter the recipe",required:!0})]}),z=()=>{const s=N(w),o=[],a=c=>{c.preventDefault(),o.length=0,console.log(s);const t=new FormData(c.currentTarget);t.getAll("title").forEach((r,l)=>{const p=t.getAll("measure")[l];o.push({title:r,measure:p,ingredientId:y()})}),t.delete("title"),t.delete("measure"),o.forEach((r,l)=>{t.append(`ingredients[${l}][title]`,r.title),t.append(`ingredients[${l}][measure]`,r.measure),t.append(`ingredients[${l}][ingredientId]`,r.ingredientId)}),t.forEach((r,l)=>{console.log("name: ",l),console.log("value: ",r)}),fetch("http://localhost:3000/api/drinks/own/add",{method:"POST",headers:{Authorization:`Bearer ${s}`},body:t}).then(r=>{r.ok?console.log("status 200"):console.log("Error:",r.statusText)})};return e.jsx("section",{className:"margin pb-20 pt-10",children:e.jsxs("form",{onSubmit:a,children:[e.jsx(q,{}),e.jsx(C,{}),e.jsx(S,{}),e.jsx("button",{type:"submit",className:"block w-[108px] h-[46px] border-2 border-primary-text-color outline-none  rounded-[42px] bg-primary-text-color text-primary-text-button-color hover:border-hover-button-border-color hover:border-2 focus:border-hover-button-border-color focus:border-2 focus:outline-none ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:"Add"})]})})},O=()=>e.jsxs("section",{className:"pb-10 md:pb-20",children:[e.jsx("h2",{className:"font-medium text-lg text-primary-text-color mb-5  md:text-2xl md:mb-6 ",children:"Follow Us"}),e.jsx(A,{})]}),E=()=>e.jsx("section",{children:e.jsx("h2",{className:"font-medium text-lg text-primary-text-color mb-5  md:text-2xl md:mb-6 ",children:"Popular drinks"})}),B=()=>e.jsxs("main",{className:"container",children:[e.jsx(I,{title:"Add drink"}),e.jsx(z,{}),e.jsx(O,{}),e.jsx(E,{})]});export{B as default};
