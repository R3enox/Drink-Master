import{u as f,c as w,r as b,a as y,t as I,j as e,s as g,b as D,C as S,E as T,v as C,M as $,N as q,F as M,A as z,B as O,G as E}from"./index-2f4bcd13.js";import{c as N,S as j,s as U,n as G,b as H}from"./createCollectionOptions-90a7b481.js";import{a as R}from"./ButtonThemeChange-73ee5759.js";import{P as B}from"./PageTitle-cca1fdca.js";import{S as _}from"./ScrollBtn-491edf3d.js";import"./floating-ui.dom-97632d49.js";const L=r=>{const[o,a,c]=r.split("/").map(Number),l=new Date,d=l.getFullYear(),p=l.getMonth()+1,n=l.getDate();let u=d-c;return(p<a||p===a&&n<o)&&(u-=1),u},K=()=>{const{t:r,i18n:o}=f(),a=o.language,{categories:c,glasses:l}=w(),[d,p]=b.useState(),[n,u]=b.useState(0),t=b.useMemo(()=>N(c??[],r,"categories"),[c,r]),s=b.useMemo(()=>N(l??[],r,"GlassType"),[l,r]),i=y(I);b.useEffect(()=>{if(i){const x=L(i.dateOfBirth);u(x)}},[i]);const m=x=>{const v=x.target.files[0],h=URL.createObjectURL(v);p(h)};return e.jsxs("div",{className:"md:flex md:gap-[32px] md:mb-20",children:[e.jsxs("div",{className:"mb-10 md:mb-0",children:[e.jsx("input",{id:"fileInput",type:"file",name:"drinkThumb",accept:"image/*",capture:!0,required:!0,className:"inputFile sr-only mt-[280px] ml-[170px]",onChange:m}),e.jsx("label",{htmlFor:"fileInput",className:"cursor-pointer",children:e.jsx("div",{className:`containerPhoto flex justify-center items-center w-[335px] h-[320px]  rounded-lg
           bg-primary-text-button-color dark:bg-opacity-50
           md:w-[320px]  lg:w-[400px] lg:h-[400px]`,children:d===void 0?e.jsxs("div",{className:"flex flex-col pointer-events-none items-center ",children:[e.jsx("button",{tabIndex:"-1",type:"button",className:"addPhotoButton flex justify-center items-center  mb-[18px] w-[50px] h-[50px] bg-primary-text-color rounded-[6px] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:e.jsx("svg",{className:"svgPhotoAddDrink stroke-primary-text-button-color w-[28px] h-[28px] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:e.jsx("use",{href:g+"#icon-plus"})})}),e.jsx("p",{className:"font-medium text-center leading-[125%] text-primary-text-color",children:r("serviceText.DrinkPageHero")})]}):e.jsx("img",{src:d,className:"block  w-[335px] h-[320px] rounded-[8px] md:w-[320px] lg:w-[400px] lg:h-[400px]"})})})]}),e.jsxs("div",{className:"flex flex-col gap-[31px] mb-10 lg:gap-[40px]",children:[e.jsx("input",{type:"text",name:"drink",className:"block pb-[14px] outline-none hover:placeholder-button-hover-color/70 dark:hover:placeholder-primary-text-color   bg-transparent  w-[335px] h-[34px] border-b border-border-color-search dark:border-grey-text-color  focus:outline-none focus:border-border-color-search/100 dark:focus:border-primary-text-color hover:border-border-color-search/100 dark:hover:border-primary-text-color placeholder-button-hover-color/50 dark:placeholder-grey-text-color placeholder-font-normal placeholder-text-sm transition-colors ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] md:w-[352px] md:h-[41px] md:placeholder-text-base md:pb-[18px] lg:w-[393px]",placeholder:r("inputPlaceholder.DrinkPageHero.itemTitle"),required:!0,autoComplete:"off"}),e.jsx("input",{type:"text",name:"description",className:"block pb-[14px] outline-none hover:placeholder-button-hover-color/70 dark:hover:placeholder-primary-text-color   bg-transparent w-[335px] h-[34px] border-b border-hover-border-color-search dark:border-grey-text-color  focus:outline-none  focus:border-border-color-search/100 dark:focus:border-primary-text-color hover:border-border-color-search/100 dark:hover:border-primary-text-color placeholder-button-hover-color/50 dark:placeholder-grey-text-color placeholder-font-normal placeholder-text-sm transition-colors ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] md:w-[352px] md:h-[41px] md:placeholder-text-base md:pb-[18px] lg:w-[393px]",placeholder:r("inputPlaceholder.DrinkPageHero.recipeDescr"),required:!0,autoComplete:"off"}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"selectCategory",className:"absolute top-0 left-0 text-hover-border-color-search dark:text-grey-text-color font-normal text-base tracking-[-0.02em] leading-[1.2]  ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]",children:r("label.DrinkPageHero.Category")}),e.jsx(j,{id:"selectCategory",classNamePrefix:"custom_select",options:t,name:"category",defaultValue:{value:t[0].value,label:r(`categories.${t[0].value}`)},isRequired:!0},`${a}cat`)]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"selectGlass",className:"absolute top-0 left-0 text-hover-border-color-search dark:text-grey-text-color font-normal text-base tracking-[-0.02em] leading-[1.2]",children:r("label.DrinkPageHero.Glass")}),e.jsx(j,{id:"selectGlass",classNamePrefix:"custom_select",options:s,name:"glass",defaultValue:{value:s[0].value,label:r(`GlassType.${s[0].value}`)},isRequired:!0},`${a}gls`)]}),e.jsx("div",{className:"mb-20 flex gap-x-[95px] md:gap-x-[107px]  md:mb-0",children:n>=18?e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"flex items-center gap-x-[8px] cursor-pointer ",children:e.jsxs("div",{className:"relative  w-[20px] h-[20px]",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Alcoholic",required:!0,className:"peer sr-only",defaultChecked:!0}),e.jsx("div",{className:" absolute left-1/2 top-1/2  transform -translate-x-1/2 -translate-y-1/2  w-2.5 h-2.5 bg-button-hover-color dark:bg-primary-text-color rounded-[5px] opacity-0 peer-checked:opacity-100"}),e.jsx("div",{className:"absolute left-1/2 top-1/2  transform -translate-x-1/2 -translate-y-1/2 w-4 h-4 border-hover-border-color-search dark:border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-button-hover-color dark:peer-checked:border-primary-text-color "}),e.jsx("p",{className:"ml-[22px] text-hover-border-color-search dark:text-grey-text-color text-sm peer-checked:text-button-hover-color dark:peer-checked:text-primary-text-color md:text-base whitespace-nowrap",children:r("cocktailType.alco")})]})}),e.jsx("label",{className:"flex items-center gap-x-[8px] cursor-pointer",children:e.jsxs("div",{className:"relative  w-[20px] h-[20px]",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Non alcoholic",required:!0,className:"peer sr-only"}),e.jsx("div",{className:"absolute  left-1/2 top-1/2  transform -translate-x-1/2 -translate-y-1/2 w-2.5 h-2.5 bg-button-hover-color dark:bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("div",{className:"absolute left-1/2 top-1/2  transform -translate-x-1/2 -translate-y-1/2 w-4 h-4  border-hover-border-color-search dark:border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-button-hover-color dark:peer-checked:border-primary-text-color  "}),e.jsx("p",{className:"ml-[22px] text-hover-border-color-search dark:text-grey-text-color peer-checked:text-button-hover-color dark:peer-checked:text-primary-text-color whitespace-nowrap text-sm md:text-base ",children:r("cocktailType.non")})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`relative flex items-center gap-x-[8px]  ${n>=18?"cursor-pointer":""} `,children:e.jsxs("div",{className:"relative  w-[20px] h-[20px]",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Alcoholic",required:!0,className:"peer sr-only",disabled:!0}),e.jsx("div",{className:` w-4 h-4 p-0.5 border-hover-border-color-search/20 dark:border-grey-text-color/20 
                ${n>=18?"cursor-pointer":""}  rounded-[50%] border-[1.30px]  `}),e.jsx("div",{className:" absolute  left-[3.5%] w-2.5 h-2.5 bg-button-hover-color dark:bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("p",{className:" ml-[22px] text-hover-border-color-search/20 dark:text-grey-text-color/20 whitespace-nowrap",children:r("cocktailType.alco")})]})}),e.jsx("label",{className:"relative flex items-center gap-x-[8px]",children:e.jsxs("div",{className:"relative  w-[20px] h-[20px]",children:[e.jsx("input",{type:"radio",name:"alcoholic",value:"Non alcoholic",required:!0,className:"peer sr-only",defaultChecked:!0}),e.jsx("div",{className:" absolute w-4 h-4 left-1/2 top-1/2  transform -translate-x-1/2 -translate-y-1/2  border-hover-border-color-search dark:border-grey-text-color cursor-pointer rounded-[50%] border-[1.30px] peer-checked:border-button-hover-color dark:peer-checked:border-primary-text-color"}),e.jsx("div",{className:" absolute  left-1/2 top-1/2  transform -translate-x-1/2 -translate-y-1/2  w-2.5 h-2.5 bg-button-hover-color dark:bg-primary-text-color rounded-[50%] opacity-0 peer-checked:opacity-100"}),e.jsx("p",{className:" ml-[22px] text-hover-border-color-search dark:text-grey-text-color peer-checked:text-button-hover-color dark:peer-checked:text-primary-text-color whitespace-nowrap",children:r("cocktailType.non")})]})})]})})]})]})},V=({value:r,hasPlaceholder:o,placeholder:a,options:c,onSelect:l,onDelete:d})=>e.jsxs("li",{className:"flex items-center mb-3.5 gap-x-2",children:[e.jsx(j,{className:"flex-initial",classNamePrefix:"ingredientsSelect",name:"ingredientId",options:c,value:!o&&r,placeholder:o&&a,onChange:l,required:!0}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"1  cl",name:"measure",required:!0,className:"text-primary-text-button-color dark:text-primary-text-color placeholder-hover-border-color-search dark:placeholder-grey-text-color hover:placeholder-button-hover-color/70 dark:hover:placeholder-primary-text-color bg-transparent w-[100px] md:w-[150px]  h-[50px] md:h-[56px] border-border-color-search dark:border-grey-text-color border-[1px] rounded-[200px] pl-[18px] md:pl-[24px] focus:border-border-color-search/100 dark:focus:border-primary-text-color hover:border-border-color-search/100 dark:hover:border-primary-text-color outline-none ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] cursor-pointer "})}),e.jsx("button",{className:"md:ml-auto cursor-pointer",type:"button",onClick:d,children:e.jsx("svg",{className:" stroke-button-hover-color dark:stroke-primary-text-color w-[18px] md:w-[20px] h-[18px] md:h-[20px]  hover:stroke-[#848080] focus:stroke-[#848080] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] ",children:e.jsx("use",{href:`${g}#icon-cross`})})})]}),P=({text:r})=>e.jsx("h2",{className:"font-semibold text-2xl leading-[114%] mb-10 md:text-[40px] md:leading-[110%]",children:r}),Y=({ingredientsOptions:r})=>{const[o,a]=b.useState(()=>U(r,3)),{t:c}=f(),l=r.filter(t=>o.every(({value:s,hasPlaceholder:i})=>i||t.value!==s)),d=()=>{if(r.length<=o.length)return;const t=Math.floor(Math.random()*l.length);a(s=>[...s,{...l[t],id:G(),hasPlaceholder:!0}])},p=()=>{o.length<=0||a(t=>t.slice(0,t.length-1))},n=t=>{a(s=>s.filter(i=>i.value!==t))},u=(t,s)=>{a(i=>i.map(m=>m.id===s?{...t,id:s,hasPlaceholder:!1}:m))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between lg:w-[540px]",children:[e.jsx(P,{text:c("title2.AddDrink"),className:"inline-block"}),e.jsxs("div",{id:"counter",className:"w-[104px] h-[38px] md:w-[114px] md:h-[44px]  flex justify-around items-center border-solid border-border-color-search dark:border-grey-text-color border-[1px] rounded-3xl",children:[e.jsx("button",{type:"button","data-action":"decrement",onClick:p,children:e.jsx("svg",{width:"16",height:"16",className:"stroke-button-hover-color dark:stroke-primary-text-color   hover:stroke-[#848080] focus:stroke-[#848080] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] ",children:e.jsx("use",{href:`${g}#icon-minus`})})}),e.jsx("span",{id:"value",className:"flex text-center",children:o.length}),e.jsx("button",{type:"button","data-action":"increment",onClick:d,children:e.jsx("svg",{width:"16",height:"16",className:"stroke-button-hover-color dark:stroke-primary-text-color   hover:stroke-[#848080] focus:stroke-[#848080] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms] ",children:e.jsx("use",{href:`${g}#icon-plus`})})})]})]}),(o==null?void 0:o.length)>0&&e.jsx("ul",{className:"mb-20 lg:w-[540px]",children:o.map(({value:t,enTitle:s,id:i,hasPlaceholder:m})=>e.jsx(V,{value:{value:t,label:c(`ingredients.${s}`),id:i},hasPlaceholder:m,placeholder:c(`ingredients.${s}`),options:l,onDelete:()=>n(t),onSelect:x=>u(x,i)},t))})]})},J=()=>{const{t:r}=f();return e.jsxs(e.Fragment,{children:[e.jsx(P,{text:r("title.AddDrinkRecepy")}),e.jsx("textarea",{className:`bg-transparent border-[1px] resize-none border-border-color-search dark:border-grey-text-color focus:outline-none
        focus:border-dark-theme-bg-color dark:focus:border-primary-text-color  hover:border-dark-theme-bg-color dark:hover:border-primary-text-color w-[335px] h-[184px] rounded-[14px] 
         placeholder-hover-border-color-search dark:placeholder-grey-text-color placeholder-font-normal placeholder-text-sm 
         mb-5 pl-[18px] md:pl-[24px] pt-4 md:pt-[14px] ease-[cubic-bezier(0.4, 0, 0.2, 1)] duration-[250ms]  
         md:w-[480px] md:rounded-[20px] cursor-pointer
        `,name:"instructions",id:"",cols:"30",rows:"10",placeholder:r("inputPlaceholder.DrinkPageHero.recipe"),required:!0})]})},Q=()=>{const{t:r}=f(),o=D(),a=S(),{ingredients:c}=w(),l=y(T),{isOpen:d,toggleModal:p}=C(),[n,u]=b.useState(null),t=[],s=b.useMemo(()=>H(c??[],r,"ingredients"),[c,r]),i=async m=>{m.preventDefault(),m.target.elements.submit.disabled=!0,t.length=0;const x=new FormData(m.currentTarget);x.getAll("ingredientId").forEach((h,k)=>{const A=x.getAll("measure")[k];t.push({title:s.find(F=>F.value===h).enTitle,measure:A,ingredientId:h})}),x.delete("ingredientId"),x.delete("measure"),t.forEach((h,k)=>{x.append(`ingredients[${k}][title]`,h.title),x.append(`ingredients[${k}][measure]`,h.measure),x.append(`ingredients[${k}][ingredientId]`,h.ingredientId)});const v=await o(M(x));if(m.target.elements.submit.disabled=!1,v.meta.requestStatus==="fulfilled"){const{data:h}=await z.get("/users/achievements/create-own");h?(u(h),p()):(O.success(r("toastError.AddDrinkForm")),a("/my"))}};return e.jsxs("section",{className:"pb-20 lg:pb-[140px]",children:[e.jsxs("form",{onSubmit:i,children:[e.jsx(K,{}),e.jsx(Y,{ingredientsOptions:s}),e.jsx(J,{}),e.jsx(R,{name:"submit",title:r(l?"button.AddDrink.Creating":"button.AddDrink.Add")})]}),n&&d&&e.jsx($,{achievementText:n.message,classNamesKey:n.classNamesKey,onClose:p}),n&&!d&&e.jsx(q,{to:"/my"})]})},W=()=>e.jsxs("ul",{className:"flex gap-x-[14px] md:gap-x-[16px]",children:[e.jsx("li",{className:"follow-us-btn ",children:e.jsx("a",{href:"https://www.facebook.com/goITclub/",target:"_blank",rel:"noreferrer noopener",children:e.jsx("svg",{className:"follow-us-icon",children:e.jsx("use",{href:g+"#icon-facebook"})})})}),e.jsx("li",{className:"follow-us-btn",children:e.jsx("a",{href:"https://www.instagram.com/goitclub/",target:"_blank",rel:"noreferrer noopener",children:e.jsx("svg",{className:"follow-us-icon",children:e.jsx("use",{href:g+"#icon-instagram"})})})}),e.jsx("li",{className:"follow-us-btn",children:e.jsx("a",{href:"https://www.youtube.com/c/GoIT",target:"_blank",rel:"noreferrer noopener",children:e.jsx("svg",{className:"follow-us-icon",children:e.jsx("use",{href:g+"#icon-youtube"})})})})]}),X=()=>{const{t:r}=f();return e.jsxs("section",{className:"pb-10 md:pb-20",children:[e.jsx("h2",{className:"font-medium text-lg mb-5 md:text-2xl md:mb-6 ",children:r("title2.FolowUs")}),e.jsx(W,{})]})},Z=r=>r.popular.popularDrinks,ee=()=>{const r=D(),o=y(Z),{t:a,i18n:c}=f(),l=c.language;return b.useEffect(()=>{r(E({limit:4}))},[r]),e.jsxs("section",{className:"pb-[80px] md:pb-[140px] lg:pb-0",children:[e.jsx("h2",{className:"font-medium text-lg mb-5  md:text-2xl md:mb-6 ",children:a("title2.PopularDrinks")}),e.jsx("ul",{className:"flex flex-col w-[336px] gap-[24px] md:w-[704px] md:flex-row md:flex-wrap md:gap-[32px] lg:flex-col lg:gap-[28px] lg:w-[313px]",children:o.map(({_id:d,drinkThumb:p,drink:n,description:u,descriptionUK:t})=>e.jsx("li",{children:e.jsxs("a",{href:`/frontend-drink-master/drink/${d}`,className:"flex gap-[14px] w-[336px] h-[90px] lg:w-[336px] ",children:[e.jsx("img",{src:p,alt:n,className:"w-[90px] h-[90px] rounded-[8px] object-cover scale-100 ease-in-out duration-300  hover:scale-[1.035] hover:contrast-[0.9"}),e.jsxs("div",{children:[e.jsx("h3",{children:n}),e.jsx("p",{className:"overflow-hidden h-[63px] text-hover-border-color-search dark:text-grey-text-color text-sm	leading-[143%]",children:l==="uk"?t:u})]})]})},d))})]})},ce=()=>{const{t:r,i18n:o}=f();return e.jsxs("div",{className:`dark:bg-common-set
    md:dark:bg-common-set-tablet lg:dark:bg-common-set-desktop bg-contain bg-no-repeat`,children:[e.jsxs("div",{className:"container mx-auto",children:[e.jsx(B,{title:r("title.AddDrink")}),e.jsxs("div",{className:"lg:flex lg:gap-[94px]",children:[e.jsx(Q,{}),e.jsxs("div",{children:[e.jsx(X,{}),e.jsx(ee,{})]})]})]}),e.jsx(_,{})]})};export{ce as default};
