import{u as f,j as e,r as p,a as u,t as A,b as D,v as E,B as h,M as R,k as M,w as T,A as K,x as U,y as H,c as O,z,L as G}from"./index-d73cb241.js";import{s as q}from"./scrollToTop-9bd6e429.js";import{B as N}from"./ButtonThemeChange-10d0035d.js";const J=({drinkIdStorage:t})=>t.currentCocktails,Q=({drinkIdStorage:t})=>t.isLoading,V=t=>!t||!t.ingredients?[]:t.ingredients.map(({ingredientId:i,measure:n})=>({ingredientId:i,measure:n})),W=({ingredients:t})=>{const{t:i}=f();return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mb-[42px] font-medium text-[16px] leading-[1.25] text-hover-border-color-search dark:text-grey-text-color md:mb-[24px] md:font-medium md:text-[16px] md:leading-[1.25]",children:i("title2.DrinkIngredientsList")}),e.jsx("div",{className:"grid grid-cols-2 gap-[20px] md:grid-cols-3 md:lg:grid-cols-5  md:gap-[22px]",children:t&&t.map(({_id:n,title:r,ingredientThumb:a,measure:s,"thumb-medium":o,"thumb-small":l})=>e.jsxs("div",{className:" scale-100 ease-in-out duration-300  hover:scale-[1.035] hover:contrast-[0.9] md:mb-[22px]",children:[e.jsx("div",{className:"mb-[8px] p-[25px] relative rounded-lg flex-col flex items-center bg-primary-text-button-color dark:bg-ingredients-card-bg md:p-[22px] ",children:e.jsxs("picture",{children:[e.jsx("source",{media:"(min-width: 1440px)",srcSet:a}),e.jsx("source",{media:"(min-width: 768px)",srcSet:o}),e.jsx("img",{src:l,alt:"",className:" md:w-[157px] md:h-[157px] lg:w-[157px] lg:h-[157px] "})]})}),e.jsxs("div",{className:" flex justify-between items-center md:mt-[14px] ",children:[e.jsx("p",{className:"font-medium leading-[1.29px] text-[14px] md:text-lg md:leading-6 lg:font-medium lg:text-base lg:leading-[1.33333] ",children:i(`ingredients.${r}`)}),e.jsx("p",{className:"mt-[8px] mb-[8px] text-hover-border-color-search dark:text-grey-text-color font-medium leading-[1.29px] text-[14px] md:font-medium md:text-base md:leading-[1.25] lg:text-base",children:s||"to your taste"})]})]},n))})]})},$="/frontend-drink-master/assets/mobile-drinkId-img-faefa015.jpg",X="/frontend-drink-master/assets/mobile-drinkId-img@2x-ba9f167d.jpg",Y="/frontend-drink-master/assets/tablet-drinkId-img-6e4eca7c.jpg",Z="/frontend-drink-master/assets/tablet-drinkId-img@2x-5dd293a7.jpg",ee="/frontend-drink-master/assets/desktop-drinkId-img-ad46bd33.jpg",te="/frontend-drink-master/assets/desktop-drinkId-img@2x-8f5bf42b.jpg",se="/frontend-drink-master/assets/mobile-drinkId-img-53839e74.webp",ie="/frontend-drink-master/assets/mobile-drinkId-img@2x-8c4fc873.webp",ne="/frontend-drink-master/assets/tablet-drinkId-img-4bcb3387.webp",re="/frontend-drink-master/assets/tablet-drinkId-img@2x-1f8e2ef0.webp",de="/frontend-drink-master/assets/desktop-drinkId-img-69bbd559.webp",ae="/frontend-drink-master/assets/desktop-drinkId-img@2x-df06faec.webp",oe=({description:t})=>{const{t:i,i18n:n}=f(),r=n.language;return e.jsxs("div",{className:"lg:relative mt-[80px] lg:mt-[100px]  lg:flex  lg:pt-[60px] lg:gap-[60px]",children:[e.jsx("h2",{className:"font-semibold leading-[1.1] text-[40px] hidden lg:block lg:-top-[40px] absolute",children:i("title2.RecipePreparation")}),e.jsxs("div",{className:"lg:order-last",children:[e.jsx("h2",{className:"font-semibold w-[335px] text-[28px] leading-[1.14] mb-[40px] md:text-2xl md:leading-[1.1] lg:hidden",children:i("title2.RecipePreparation")}),e.jsx("p",{className:"mb-[40px] text-[14px] leading-[1.29] md:text-[16px] md:leading-[1.37] lg:w-[594px] ",children:r==="uk"?t&&t.instructionsUK:t&&t.instructions})]}),e.jsxs("picture",{className:"flex justify-center items-center",children:[e.jsx("source",{media:"(min-width: 1440px)",type:"image/webp",srcSet:`${de} 1x, ${ae} 2x`}),e.jsx("source",{media:"(min-width: 1440px)",type:"image/jpg",srcSet:`${ee} 1x, ${te} 2x`}),e.jsx("source",{media:"(min-width: 768px)",type:"image/webp",srcSet:`${ne} 1x, ${re} 2x`}),e.jsx("source",{media:"(min-width: 768px)",type:"image/jpg",srcSet:`${Y} 1x, ${Z} 2x`}),e.jsx("source",{media:"(min-width: 375px)",type:"image/webp",srcSet:`${se} 1x, ${ie} 2x`}),e.jsx("source",{media:"(min-width: 375px)",type:"image/jpg",srcSet:`${$} 1x, ${X} 2x`}),e.jsx("img",{className:"rounded-xl w-[335px] md:w-[704px] lg:w-[631px] lg:mt-[0px]",srcSet:$,alt:"Cocktail"})]})]})},ce=({cocktail:t})=>{const[i,n]=p.useState(!0),r=u(A),a=D(),{t:s,i18n:o}=f(),{isOpen:l,toggleModal:x}=E(),[d,c]=p.useState(null),b=o.language,{_id:m,drink:F,category:S,alcoholic:C,description:L,descriptionUK:P,drinkThumb:_,favorite:k}=t,j=k==null?void 0:k.includes(r.id),[B,I]=p.useState(j),w=i?j:B,v=async y=>{try{if(w)await a(M(y)),I(!1);else{await a(T(y)),I(!0);const{data:g}=await K.get("/users/achievements/add-to-favorites");g&&(c(g),x())}}catch(g){h.error(g.message)}finally{n(!1)}};return e.jsxs("div",{className:" lg:flex justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-[8px] font-semibold text-[32px] leading-[1.19] text-gray-100 md:font-semibold md:text-[57px] md:leading-[1.07] lg:text-[64px] lg:leading-[1.06]",children:F}),e.jsxs("p",{className:"text-[12px] leading-[1.17] text-grey-text-color mb-[20px] md:text-[16px] md:leading-[1.25]",children:[s(`categories.${S}`),"/",s(`cocktailDiscr.${C}`)]}),e.jsx("p",{className:"text-[14px] leading-[1.29] mb-[40px] text-gray-100 md:text-[16px] md:leading-[1.37] md:max-w-[593px]",children:b==="uk"?P:L}),e.jsx("div",{className:"pt-10 pb-20",children:w?e.jsx(N,{descr:s("button.toggleFavorite.ButtonComponentDel"),btnFunction:()=>{v(m),h(`${s("toastError.DrinkPageHeroDel")}`)},id:m}):e.jsx(N,{descr:s("button.toggleFavorite.ButtonComponentAdd"),btnFunction:()=>{v(m),h.success(`${s("toastError.DrinkPageHeroAdd")}`,{icon:!1})},id:m})})]}),e.jsx("div",{children:e.jsx("img",{className:"max-h-[400px] mb-[18px] w-[335px] rounded-xl  md:mb-[80px] md:w-[704px] md:object-cover lg:w-[400px] lg:mb-[100px] ",src:_,alt:"poster cocktail"})}),d&&l&&e.jsx(R,{achievementText:d.message,classNamesKey:d.classNamesKey,onClose:x})]})},ge=()=>{const t=u(J),i=u(Q),n=u(U),r=D(),{drinkId:a}=H(),{ingredients:s}=O(),o=V(t),x=(s&&s.filter(d=>o.find(({ingredientId:c})=>c===d._id))).map(d=>{const c=o.find(m=>m.ingredientId===d._id),b=c?c.measure:"Unknown";return{...d,measure:b}});return p.useEffect(()=>{r(z(a)),q()},[a,r]),e.jsxs("section",{className:"py-[80px] md:py-[140px] lg:pt-[132px]",children:[i&&e.jsx(G,{isStatic:!0}),n&&e.jsx("h1",{children:n}),t&&e.jsxs("div",{className:"container mx-auto ",children:[e.jsx(ce,{cocktail:t}),e.jsx(W,{ingredients:x}),e.jsx(oe,{description:t})]})]})};export{ge as default};
